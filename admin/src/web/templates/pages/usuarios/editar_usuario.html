{% from "components/navbar_secundaria.html" import navbar_secundaria %}

{% extends "layouts/base.html" %}

{% block title %} Editar usuario {% endblock %}

{% block head %}
{{ super() }}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
{% endblock %}

{% block main %}

{{ navbar_secundaria({
  'volver': url_for('usuarios.listado_usuarios')
})}}

{% from "pages/usuarios/_campo_form.html" import render_field %}
<form method=post class="formulario">
  <div class="formulario-header">
    <h1>Editar usuario</h1>
  </div>
  {{ form.csrf_token }}
  <div class="formulario-body">
    <dl>
      {{ render_field(form.email, type="email") }}
      {{ render_field(form.alias) }}
      <div>{{ render_field(form.admin_sistema, id="es_admin", type="checkbox") }}</div>
      <div class="alert alert-info" id="mensaje_roles" style="display: None;">Si es admin general no puede asignarle roles</div>
    </dl>
    <ul>{{ form.roles.label }}
      {% for  value, label, checked, render_kw in form.roles.iter_choices() %}
      <li><input type="checkbox" name={{form.roles.name}} value={{value}} id="{{form.roles.id}}-{{value}}" {% if checked %}checked{% endif %}>
        <label>{{ label }}</label>
      </li>
      {% endfor %}
    </ul>
    <p><input type=submit>
  </div>
</form>

{% include "pages/usuarios/_ocultar_mostrar.html" %}

{% endblock %}
