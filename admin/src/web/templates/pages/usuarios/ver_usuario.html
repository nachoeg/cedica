{% extends "layouts/base.html" %}

{% block title %}{{usuario.alias}} ({{usuario.email}}){% endblock %}

{% block main %}
  <div class="contenedor">

    {% if usuario.id == session.get('id') %}
      <h1 class="text-xl">Mis datos</h1>
    {% else %}
      <h1 class="text-xl">Datos del usuario</h1>
    {% endif %}

    <p><strong>Usuario activo:</strong> {{ booleano_a_palabra(usuario.activo) }}</p>
    <p><strong>Alias:</strong> {{ usuario.alias }}</p>
    <p><strong>Email:</strong> {{ usuario.email }}</p>
    <p><strong>Es admin sistema:</strong> {{ booleano_a_palabra(usuario.admin_sistema) }}</p>
    <p><strong>Roles:</strong>
      {% if usuario.roles %}
        {% for rol in usuario.roles %}
          <strong></strong> <li style="margin-bottom: -1em;  margin-top: -1em;">{{ rol.nombre }} </li>
        {% endfor %}
      {% else %}
        -
      {% endif %}
    </p>
    <p><strong>Fecha de registro:</strong> {{ fechahora_a_fecha(usuario.creacion) }}</p>
    <p><strong>Última actualización:</strong> {{ fechahora_a_fecha(usuario.ultima_actualizacion) }}</p>

    <div class="flex gap-3">
      <a class="btn btn-secondary w-full" href="{{ url_for('usuarios.editar_usuario', id=usuario.id) }}">Editar</a>
      <button class="btn btn-danger w-full" type="submit" onclick="
        if (confirm('¿Está seguro que desea borrar este ecuestre?')) {
          window.location.href = `/usuarios/${id}/eliminar`;}">
        Eliminar
      </button>
    </div>
  </div>

{% endblock %}